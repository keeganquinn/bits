---
- name: Mark Oracle license selected
  become: yes
  debconf:
    name: oracle-java8-installer
    question: shared/accepted-oracle-license-v1-1
    value: 'true'
    vtype: select
  when: ansible_architecture == 'x86_64'

- name: Mark Oracle license seen
  become: yes
  debconf:
    name: oracle-java8-installer
    question: shared/accepted-oracle-license-v1-1
    value: 'true'
    vtype: seen
  when: ansible_architecture == 'x86_64'

- name: Install Oracle Java package
  become: yes
  apt: name=oracle-java8-installer state=present
  when: ansible_architecture == 'x86_64'

- name: Install build packages
  become: yes
  apt:
    state: present
    name:
      - autoconf
      - bison
      - build-essential
      - graphviz
      - imagemagick
      - libffi-dev
      - libgdbm-dev
      - libmagickwand-6.q16-dev
      - libncurses5-dev
      - libpq-dev
      - libreadline6-dev
      - libssl-dev
      - libyaml-dev
      - nodejs
      - shellcheck
      - sloccount
      - yarn
      - zlib1g-dev
