---
- name: Install build brews
  homebrew:
    state: present
    name:
      - ansible-lint
      - autoconf
      - automake
      - bfg
      - ghostscript
      - graphviz
      - imagemagick@6
      - node
      - pkg-config
      - postgresql
      - redis
      - sloccount
      - tidy-html5
      - yarn

- name: Install build casks
  homebrew_cask:
    state: present
    name:
      - android-platform-tools
      - android-studio

- name: Link imagemagick package on Homebrew
  shell: brew link --force imagemagick@6
  args:
    creates: /usr/local/lib/ImageMagick

- name: Check for shellcheck
  stat: path=/usr/local/bin/shellcheck
  register: shellcheck_result

- name: Install shellcheck brew
  homebrew:
    state: present
    name: shellcheck
  when: shellcheck_result.stat.exists == False
