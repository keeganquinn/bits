# Intended to run on Debian GNU/Linux stable.
#
# Expects docbook-utils, docbook-xsl and xsltproc packages to be installed.

require 'rake/clean'

CLEAN.include('*.html')

CLEAN.include('server-management.dvi')
CLEAN.include('server-management.pdf')
CLEAN.include('server-management.ps')
CLEAN.include('server-management.rtf')
CLEAN.include('server-management.tex')


task :default => [ 'server-management.html', 'server-management.pdf',
                   'server-management.ps', :htmlfiles]


file 'server-management.dvi' => ['server-management.xml'] do
  sh "docbook2dvi server-management.xml"
end

file 'server-management.html' => ['server-management.xml'] do
  sh "xsltproc /usr/share/xml/docbook/stylesheet/nwalsh/xhtml/docbook.xsl " +
    "server-management.xml > server-management.html"
end

file 'server-management.pdf' => ['server-management.xml'] do
  sh "docbook2pdf server-management.xml"
end

file 'server-management.ps' => ['server-management.xml'] do
  sh "docbook2ps server-management.xml"
end

file 'server-management.rtf' => ['server-management.xml'] do
  sh "docbook2rtf server-management.xml"
end

file 'server-management.tex' => ['server-management.xml'] do
  sh "docbook2tex server-management.xml"
end


task :htmlfiles => ['server-management.xml'] do
  sh "docbook2html server-management.xml"
end

